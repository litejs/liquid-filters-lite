!function(a){function m(b,a,d,e,f){b=+b;var g=0;for(e=e||{"default":"{0} {1}{2}"};b>a[g];)b/=a[g++];if(g==a.length&&f)return f(this);g=d[g];b=b+0.5|0;return(e[2>b?g:g+"s"]||e["default"]).format(b,g,2>b?"":"s")}var k=Array[a],l=Date[a],h=Number[a];a=String[a];var n=/\{(?!\\)\s*([$\w]+)((?:(["'\/])(?:\\.|.)*?\3|\-?\d*\.?\d+|[,\s\w|:])*)\}/g,p=/\s*\|\s*(\w+)(?:\s*\:((?:(["'\/])(?:\\.|.)*?\3|\-?\d*\.?\d+|[,\s])*))?/g;a.format=function(b){var a="object"==typeof b?b:arguments;return this.replace(n,function(d,
e,f){return f?(d="(_['"+e+"']||''"+f.replace(p,").$1($2")+")",Fn(d)(a).format(b)):e in a?a[e]:""}).replace(/{\\/g,"{")};a.safe=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;")};a.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};a.lower=a.downcase=a.toLowerCase;a.upper=a.upcase=a.toUpperCase;a.size=k.size=function(){return this.length};a.truncate=function(b){return this.slice(0,b)};a.truncatewords=function(b){return this.split(" ").splice(0,
b).join(" ")};a.remove=function(b){return this.split(b).join("")};a.remove_first=function(b){var a=this.split(b);return a.shift()+a.join(b)};a.camelback=function(){return this.replace(/[ _-]+([a-z])/g,function(b,a){return a.toUpperCase()})};a.camelcase=function(){return this.camelback().capitalize()};a.repeat=a.times=function(a){return 1>a?"":Array(++a).join(this)};k.first=function(){return this[0]};k.last=function(){return this[this.length-1]};k.pluck=function(a){for(var c=this.length,d=[];c--;)d[c]=
this[c][a];return d};a.step=h.step=a.toAccuracy=h.toAccuracy=function(a){var c=(""+a).split(".");a*=~~(this/a+0.5);return""+(1 in c?a.toFixed(c[1].length):a)};a.pick=h.pick=function(){for(var a=this+"=",c,d=arguments,e=0,f=d.length;e<f;)c=d[e++],0==c.indexOf(a)&&(c=c.slice(a.length),e=f);return c.replace("#",this)};a.plural=h.plural=function(){return arguments[+Fn("n->n != 1")(parseFloat(this))].replace("#",this)};a.ordinal=h.ordinal=function(){return this+'{0|substr:-1|pick:"1=st","2=nd","3=rd","th"}'.format(""+
this)};a.humanSize=h.humanSize=function(){return m(this,[1024,1024,1024],["byte","KB","MB","GB"])};a.humanTime=h.humanTime=function(a){return m(this,[60,60,24,7,30],"second minute hour day week month".split(" "),a)};l.daysInMonth=function(){return(new Date(this.getFullYear(),this.getMonth()+1,0)).getDate()};l.startOfWeek=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDate()-(this.getDay()||7)+1)};l.timeAgo=function(a,c){var d=this;return((new Date-d+1)/1E3).humanTime({"default":"{0} {1}{2} ago",
day:"Yesterday"},function(){return d.format(a)})}}("prototype");