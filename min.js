!function(a){function k(b,a,e,f,c){b=+b;var d=0;for(f=f||{"default":"{0} {1}{2}"};b>a[d];)b/=a[d++];if(d==a.length&&c)return c(this);d=e[d];b=b+0.5|0;return(f[2>b?d:d+"s"]||f["default"]).format(b,d,2>b?"":"s")}var c=Array[a],g=Date[a],h=Number[a];a=String[a];var l=[];a.format=function(b){var a="object"==typeof b?b:arguments;return this.replace(/\{(\w+)\}/g,function(b,c){return a[c]})};a.safe=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;")};
a.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};a.downcase=a.toLowerCase;a.upcase=a.toUpperCase;a.size=c.size=function(){return this.length};a.truncate=function(b){return this.slice(0,b)};a.truncatewords=function(b){return this.split(" ").splice(0,b).join(" ")};a.remove=function(b){return this.split(b).join("")};a.remove_first=function(b){var a=this.split(b);return a.shift()+a.join(b)};a.camelback=function(){return this.replace(/[ _-]+([a-z])/g,function(b,a){return a.toUpperCase()})};
a.camelcase=function(){return this.camelback().capitalize()};a.times=function(b){return 1>b?"":l.length=b+1,l.join(this)};c.first=function(){return this[0]};c.last=function(){return this[this.length-1]};c.pluck=function(b){for(var a=this.length,c=[];a--;)c[a]=this[a][b];return c};a.toAccuracy=h.toAccuracy=function(b){var a=(""+b).split(".");b*=~~(this/b+0.5);return""+(1 in a?b.toFixed(a[1].length):b)};a.humanSize=h.humanSize=function(){return k(this,[1024,1024,1024],["byte","KB","MB","GB"])};a.humanTime=
h.humanTime=function(a){return k(this,[60,60,24,7,30],"second minute hour day week month".split(" "),a)};g.daysInMonth=function(){return(new Date(this.getFullYear(),this.getMonth()+1,0)).getDate()};g.startOfWeek=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDate()-(this.getDay()||7)+1)};g.timeAgo=function(a,c){var e=this;return((new Date-e+1)/1E3).humanTime({"default":"{0} {1}{2} ago",day:"Yesterday"},function(){return e.format(a)})}}("prototype");