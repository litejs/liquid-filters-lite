/*
    MIT License
*/
!function(a){function k(b,a,e,d,c){b=+b;var f=0;for(d=d||{"default":"{0} {1}{2}"};b>a[f];)b/=a[f++];if(f==a.length&&c)return c(this);f=e[f];b=b+.5|0;return(d[2>b?f:f+"s"]||d["default"]).format(b,f,2>b?"":"s")}var g=Array[a],h=Date[a],c=Number[a];a=String[a];var l=/{(?!\\)((?:(["'/])(?:\\?.)*?\2|[^}])*)}/g,m=/\|\s*(\w+)(?:\s*\:((?:(["'\/])(?:\\?.)*?\3[igm]*|\-?\d*\.?\d+|[,\s])*))?/g,n=/^\s*\d+/,p=/{\\/g;a.format=function(b,a){var e="object"==typeof b?b:arguments;return this.replace(l,function(d,c){d=
Fn(c.replace(n,"_[$&]").replace(m,".$1($2)"),"_")(e);return e===b&&a?d.format(b,a-1):d}).replace(p,"{")};c.format=function(b,a){return(""+this).format(b,a)};a.safe=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;")};a.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};a.lower=a.downcase=a.toLowerCase;a.upper=a.upcase=a.toUpperCase;a.size=g.size=function(){return this.length};a.truncate=function(b){return this.slice(0,
b)};a.truncatewords=function(b){return this.split(" ").splice(0,b).join(" ")};a.remove=function(b){return this.split(b).join("")};a.camelCase=function(){return this.replace(/[ _-]+([a-z])/g,function(b,a){return a.toUpperCase()})};a.repeat=a.times=function(b){return 1>b?"":Array(b+1).join(this)};g.first=function(){return this[0]};g.last=function(){return this[this.length-1]};g.pluck=function(b){for(var a=this.length,c=[];a--;)c[a]=this[a][b];return c};a.step=c.step=a.toAccuracy=c.toAccuracy=function(a){var c=
(""+a).split(".");a*=~~(this/a+.5);return""+(1 in c?a.toFixed(c[1].length):a)};a.pick=c.pick=function(){for(var a=this+"=",c,e=arguments,d=0,g=e.length;d<g;)c=e[d++],0==c.indexOf(a)&&(c=c.slice(a.length),d=g);return c.replace("#",this)};a.plural=c.plural=function(){return arguments[+Fn("n->n != 1")(parseFloat(this))].replace("#",this)};a.ordinal=c.ordinal=function(){return this+'{0|substr:-1|pick:"1=st","2=nd","3=rd","th"}'.format(""+this)};a.humanSize=c.humanSize=function(){return k(this,[1024,1024,
1024],["byte","KB","MB","GB"])};a.humanTime=c.humanTime=function(a){return k(this,[60,60,24,7,30],"second minute hour day week month".split(" "),a)};h.daysInMonth=function(){return(new Date(this.getFullYear(),this.getMonth()+1,0)).getDate()};h.startOfWeek=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDate()-(this.getDay()||7)+1)};h.timeAgo=function(a,c){var e=this;return((new Date-e+1)/1E3).humanTime({"default":"{0} {1}{2} ago",day:"Yesterday"},function(){return e.format(a)})}}("prototype");
